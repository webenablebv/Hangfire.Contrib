version: '{build}'
pull_requests:
  do_not_increment_build_number: true
image: Visual Studio 2017
nuget:
  disable_publish_on_pr: true
build_script:
  - cmd: dotnet restore
  - cmd: dotnet build
  - cmd: dotnet test .\test\Webenable.Hangfire.Contrib.Tests
  - cmd: dotnet pack .\src\Webenable.Hangfire.Contrib -c Release -o .\artifacts
test: off
branches:
  only:
    - master
init:
  - git config --global core.autocrlf input
environment:
  DOTNET_SKIP_FIRST_TIME_EXPERIENCE: true
  DOTNET_CLI_TELEMETRY_OPTOUT: true
  CI: true
artifacts:
- path: .\src\Webenable.Hangfire.Contrib\artifacts\**\*.nupkg
  name: NuGet